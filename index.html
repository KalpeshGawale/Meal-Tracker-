<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daily Meal Tracker</title>
<style>
:root{
  --primary:#6366f1;
  --bg:#0f172a;
  --card:#020617;
  --text:#e5e7eb;
  --danger:#ef4444;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:"Segoe UI",sans-serif;
  background:var(--bg);
  color:var(--text);
}

header{
  background:linear-gradient(135deg,#4f46e5,#6366f1);
  padding:18px;
  text-align:center;
  font-size:1.4rem;
  font-weight:600;
}

.container{
  max-width:900px;
  margin:20px auto;
  padding:0 15px;
}

.card{
  background:var(--card);
  border-radius:14px;
  padding:20px;
  margin-bottom:20px;
  box-shadow:0 10px 30px rgba(0,0,0,0.5);
}

.card h2{
  margin:0 0 15px;
  font-size:1.1rem;
  color:#a5b4fc;
}

.meals{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
}

.meal{
  flex:1;
  min-width:120px;
  padding:14px;
  text-align:center;
  border-radius:12px;
  background:#020617;
  border:2px solid #1e293b;
  cursor:pointer;
}

.meal.active{
  border-color:var(--primary);
  background:#1e1b4b;
}

.meal input{display:none}

button{
  margin-top:15px;
  padding:10px 18px;
  border:none;
  border-radius:10px;
  background:var(--primary);
  color:white;
  font-size:14px;
  cursor:pointer;
}

.delete-btn{
  background:var(--danger);
  padding:6px 10px;
  font-size:13px;
}

table{
  width:100%;
  border-collapse:collapse;
}

th{
  background:#4f46e5;
  padding:12px;
}

td{
  padding:12px;
  text-align:center;
  border-bottom:1px solid #1e293b;
}
</style>
</head>
<body>

<header>üçΩÔ∏è Daily Meal Tracker</header>

<div class="container">

<!-- Date -->
<div class="card">
<h2>Select Date</h2>
<input type="date" id="mealDate">
</div>

<!-- Meals -->
<div class="card">
<h2>Meals Consumed</h2>
<div class="meals">
  <div class="meal" onclick="toggleMeal('breakfastCheck')">
    <input type="checkbox" id="breakfastCheck"> Breakfast
  </div>
  <div class="meal" onclick="toggleMeal('lunchCheck')">
    <input type="checkbox" id="lunchCheck"> Lunch
  </div>
  <div class="meal" onclick="toggleMeal('dinnerCheck')">
    <input type="checkbox" id="dinnerCheck"> Dinner
  </div>
</div>
<button onclick="saveDay()">Save Day</button>
</div>

<!-- Table -->
<div class="card">
<table id="mealTable">
<thead>
<tr>
<th>Date</th>
<th>Breakfast</th>
<th>Lunch</th>
<th>Dinner</th>
<th></th>
</tr>
</thead>
<tbody></tbody>
</table>
</div>

</div>

<script>
let days = JSON.parse(localStorage.getItem("days")) || [];

function formatDateDMY(iso){
  if(!iso) return "";
  const [y,m,d]=iso.split("-");
  return `${d}-${m}-${y.slice(2)}`;
}

function toggleMeal(id){
  const cb=document.getElementById(id);
  cb.checked=!cb.checked;
  cb.parentElement.classList.toggle("active",cb.checked);
}

function saveDay(){
  const date=mealDate.value || new Date().toISOString().split("T")[0];
  const b=breakfastCheck.checked;
  const l=lunchCheck.checked;
  const d=dinnerCheck.checked;

  days.push({date,breakfast:b,lunch:l,dinner:d});
  localStorage.setItem("days",JSON.stringify(days));
  render();
}

function render(){
  const tbody=document.querySelector("#mealTable tbody");
  tbody.innerHTML="";

  days.forEach((x,i)=>{
    tbody.innerHTML+=`
      <tr>
        <td>${formatDateDMY(x.date)}</td>
        <td>${x.breakfast?"‚úÖ":"‚Äî"}</td>
        <td>${x.lunch?"‚úÖ":"‚Äî"}</td>
        <td>${x.dinner?"‚úÖ":"‚Äî"}</td>
        <td><button class="delete-btn" onclick="del(${i})">X</button></td>
      </tr>`;
  });
}

function del(i){
  days.splice(i,1);
  localStorage.setItem("days",JSON.stringify(days));
  render();
}

render();
</script>

</body>
</html>/* Buttons */
button{
  margin-top:15px;
  padding:10px 18px;
  border:none;
  border-radius:10px;
  background:var(--primary);
  color:white;
  font-size:14px;
  cursor:pointer;
}

.delete-btn{
  background:var(--danger);
  padding:6px 10px;
  font-size:13px;
}

/* Summary */
#summary{
  text-align:center;
  font-size:1.2rem;
  font-weight:600;
}

/* Table */
table{
  width:100%;
  border-collapse:collapse;
}

th{
  background:#4f46e5;
  padding:12px;
}

td{
  padding:12px;
  text-align:center;
  border-bottom:1px solid #1e293b;
}
</style>
</head>

<body>

<header>üçΩÔ∏è Daily Meal Expense Tracker</header>

<div class="container">

<!-- Default Prices -->
<div class="card">
<h2>Default Meal Prices (‚Çπ)</h2>
<div class="row">
  <div><label>Breakfast</label><input type="number" id="defaultBreakfast"></div>
  <div><label>Lunch</label><input type="number" id="defaultLunch"></div>
  <div><label>Dinner</label><input type="number" id="defaultDinner"></div>
</div>
<button onclick="saveDefaults()">Save Prices</button>
</div>

<!-- Date -->
<div class="card">
<h2>Select Date</h2>
<input type="date" id="mealDate">
</div>

<!-- Meals -->
<div class="card">
<h2>Meals Consumed</h2>
<div class="meals">
  <div class="meal" onclick="toggleMeal('breakfastCheck')">
    <input type="checkbox" id="breakfastCheck"> Breakfast
  </div>
  <div class="meal" onclick="toggleMeal('lunchCheck')">
    <input type="checkbox" id="lunchCheck"> Lunch
  </div>
  <div class="meal" onclick="toggleMeal('dinnerCheck')">
    <input type="checkbox" id="dinnerCheck"> Dinner
  </div>
</div>
<button onclick="saveDay()">Save Day</button>
</div>

<div class="card" id="summary">Total Expense: ‚Çπ0</div>

<!-- Table -->
<div class="card">
<table id="mealTable">
<thead>
<tr>
<th>Date</th>
<th>Breakfast</th>
<th>Lunch</th>
<th>Dinner</th>
<th>Total</th>
<th></th>
</tr>
</thead>
<tbody></tbody>
</table>
</div>

<!-- Range -->
<div class="card">
<h2>Total Between Dates</h2>
<div class="row">
  <div><label>Start</label><input type="date" id="startDate"></div>
  <div><label>End</label><input type="date" id="endDate"></div>
</div>
<button onclick="calculateRangeTotal()">Calculate</button>
<p id="rangeSummary"></p>
</div>

</div>

<script>
let defaults = JSON.parse(localStorage.getItem("defaults")) || {Breakfast:0,Lunch:0,Dinner:0};
let days = JSON.parse(localStorage.getItem("days")) || [];

/* DATE FORMATTER: dd-mm-yy */
function formatDateDMY(iso){
  if(!iso) return "";
  const [y,m,d]=iso.split("-");
  return `${d}-${m}-${y.slice(2)}`;
}

function toggleMeal(id){
  const cb=document.getElementById(id);
  cb.checked=!cb.checked;
  cb.parentElement.classList.toggle("active",cb.checked);
}

function saveDefaults(){
  defaults.Breakfast=+defaultBreakfast.value||0;
  defaults.Lunch=+defaultLunch.value||0;
  defaults.Dinner=+defaultDinner.value||0;
  localStorage.setItem("defaults",JSON.stringify(defaults));
}

function saveDay(){
  const date=mealDate.value || new Date().toISOString().split("T")[0];
  const b=breakfastCheck.checked;
  const l=lunchCheck.checked;
  const d=dinnerCheck.checked;

  const total=(b?defaults.Breakfast:0)+(l?defaults.Lunch:0)+(d?defaults.Dinner:0);
  days.push({date,breakfast:b,lunch:l,dinner:d,total});
  localStorage.setItem("days",JSON.stringify(days));
  render();
}

function render(){
  const tbody=document.querySelector("#mealTable tbody");
  tbody.innerHTML="";
  let sum=0;

  days.forEach((x,i)=>{
    sum+=x.total;
    tbody.innerHTML+=`
      <tr>
        <td>${formatDateDMY(x.date)}</td>
        <td>${x.breakfast?"‚úÖ":"‚Äî"}</td>
        <td>${x.lunch?"‚úÖ":"‚Äî"}</td>
        <td>${x.dinner?"‚úÖ":"‚Äî"}</td>
        <td>‚Çπ${x.total}</td>
        <td><button class="delete-btn" onclick="del(${i})">X</button></td>
      </tr>`;
  });

  summary.innerText=`Total Expense: ‚Çπ${sum}`;
}

function del(i){
  days.splice(i,1);
  localStorage.setItem("days",JSON.stringify(days));
  render();
}

function calculateRangeTotal(){
  const s=startDate.value;
  const e=endDate.value;
  if(!s||!e) return;

  const total=days
    .filter(d=>d.date>=s && d.date<=e)
    .reduce((a,b)=>a+b.total,0);

  rangeSummary.innerText=
    `Total from ${formatDateDMY(s)} to ${formatDateDMY(e)} : ‚Çπ${total}`;
}

defaultBreakfast.value=defaults.Breakfast;
defaultLunch.value=defaults.Lunch;
defaultDinner.value=defaults.Dinner;
render();
</script>

</body>
</html>
